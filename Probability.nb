(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     15660,        388]
NotebookOptionsPosition[     14853,        368]
NotebookOutlinePosition[     15196,        383]
CellTagsIndexPosition[     15153,        380]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{"(*", " ", "TEST", " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"dayOfWeekGara", " ", "=", " ", "\"\<Lun\>\""}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"cityArbitro", " ", "=", " ", "\"\<POGGIO RENATICO\>\""}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"cityGara", " ", "=", " ", "\"\<ARGENTA\>\""}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"birthDateArbitro", " ", "=", " ", "\"\<02/07/1995\>\""}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"probability", " ", "=", " ", "0"}], ";"}], "\[IndentingNewLine]",
    "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"1", " ", "-", " ", "STORICO"}], " ", "*)"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"probbilityPast", " ", "=", " ", 
      RowBox[{"acceptedArbitro", " ", "/", 
       RowBox[{"(", 
        RowBox[{"acceptedArbitro", "+", "refusedArbitro"}], ")"}]}]}], ";"}], 
    "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"2", " ", "-", " ", "DISTANZA"}], " ", "*)"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "Replace", " ", "particolare", " ", "perch\[EGrave]", " ", 
     "\"\<Terre Del Reno\>\"", " ", "non", " ", "\[EGrave]", " ", 
     "riconosciuto", " ", "come", " ", "citt\[AGrave]"}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"cityArbitro", " ", "=", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"cityArbitro", "\[Equal]", "\"\<TERRE DEL RENO\>\""}], ",", 
       "\"\<Mirabello\>\"", ",", "cityArbitro"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"cityGara", " ", "=", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"cityGara", "\[Equal]", "\"\<TERRE DEL RENO\>\""}], ",", 
       "\"\<Mirabello\>\"", ",", "cityGara"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
     RowBox[{
     "Trasforma", " ", "le", " ", "stringhe", " ", "da", " ", 
      "\"\<TERRE DEL RENO\>\"", " ", "a", " ", "\"\<TerreDelReno\>\""}], ",", 
     " ", 
     RowBox[{"rendendole", " ", "utilizzabili", " ", "per", " ", 
      RowBox[{"TravelDistance", "[", "]"}]}]}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"cityArbitro", " ", "=", " ", 
     RowBox[{"StringDelete", "[", 
      RowBox[{
       RowBox[{"StringReplace", "[", 
        RowBox[{
         RowBox[{"ToLowerCase", "[", "cityArbitro", "]"}], ",", 
         RowBox[{
          RowBox[{"WordBoundary", "~~", "x_"}], "\[RuleDelayed]", 
          RowBox[{"ToUpperCase", "[", "x", "]"}]}]}], "]"}], ",", 
       "\"\< \>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"cityGara", " ", "=", " ", 
     RowBox[{"StringDelete", "[", 
      RowBox[{
       RowBox[{"StringReplace", "[", 
        RowBox[{
         RowBox[{"ToLowerCase", "[", "cityGara", "]"}], ",", 
         RowBox[{
          RowBox[{"WordBoundary", "~~", "x_"}], "\[RuleDelayed]", 
          RowBox[{"ToUpperCase", "[", "x", "]"}]}]}], "]"}], ",", 
       "\"\< \>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "Calcola", " ", "la", " ", "distanza", " ", "tra", " ", "la", " ", 
     "citt\[AGrave]", " ", 
     RowBox[{"dell", "'"}], "arbitro", " ", "e", " ", "la", " ", 
     "citt\[AGrave]", " ", "della", " ", "gara"}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"distanceKm", " ", "=", " ", 
     RowBox[{"TravelDistance", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Entity", "[", 
          RowBox[{"\"\<City\>\"", ",", 
           RowBox[{"{", 
            RowBox[{
            "cityArbitro", ",", "\"\<EmiliaRomagna\>\"", ",", 
             "\"\<Italy\>\""}], "}"}]}], "]"}], ",", 
         RowBox[{"Entity", "[", 
          RowBox[{"\"\<City\>\"", ",", 
           RowBox[{"{", 
            RowBox[{
            "cityGara", ",", "\"\<EmiliaRomagna\>\"", ",", "\"\<Italy\>\""}], 
            "}"}]}], "]"}]}], "}"}], ",", 
       RowBox[{"TravelMethod", "\[Rule]", "\"\<Driving\>\""}]}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"distance", " ", "=", 
     RowBox[{"QuantityMagnitude", "[", 
      RowBox[{"IntegerPart", "[", "distanceKm", "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"probabilityDistance", " ", "=", " ", "1"}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "Diminuisce", " ", "la", " ", "probabilit\[AGrave]", " ", "al", " ", 
     "crescere", " ", "della", " ", "distanza"}], " ", "*)"}], 
   "\[IndentingNewLine]", " ", 
   RowBox[{
    RowBox[{"probabilityDistance", " ", "-=", " ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"Between", "[", 
        RowBox[{"distance", ",", " ", 
         RowBox[{"{", 
          RowBox[{"0", ",", " ", "10"}], "}"}]}], "]"}], ",", " ", "0.05", 
       ",", " ", "0"}], "]"}]}], ";"}], "\[IndentingNewLine]", " ", 
   RowBox[{
    RowBox[{"probabilityDistance", " ", "-=", " ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"Between", "[", 
        RowBox[{"distance", ",", " ", 
         RowBox[{"{", 
          RowBox[{"11", ",", " ", "20"}], "}"}]}], "]"}], ",", " ", "0.10", 
       ",", " ", "0"}], "]"}]}], ";"}], "\[IndentingNewLine]", " ", 
   RowBox[{
    RowBox[{"probabilityDistance", " ", "-=", " ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"Between", "[", 
        RowBox[{"distance", ",", " ", 
         RowBox[{"{", 
          RowBox[{"21", ",", " ", "40"}], "}"}]}], "]"}], ",", " ", "0.15", 
       ",", " ", "0"}], "]"}]}], ";"}], "\[IndentingNewLine]", " ", 
   RowBox[{
    RowBox[{"probabilityDistance", " ", "-=", " ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"Between", "[", 
        RowBox[{"distance", ",", " ", 
         RowBox[{"{", 
          RowBox[{"41", ",", " ", "70"}], "}"}]}], "]"}], ",", " ", "0.20", 
       ",", " ", "0"}], "]"}]}], ";"}], "\[IndentingNewLine]", " ", 
   RowBox[{
    RowBox[{"probabilityDistance", " ", "-=", " ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"Between", "[", 
        RowBox[{"distance", ",", " ", 
         RowBox[{"{", 
          RowBox[{"71", ",", " ", "100"}], "}"}]}], "]"}], ",", " ", "0.25", 
       ",", " ", "0"}], "]"}]}], ";"}], "\[IndentingNewLine]", " ", 
   RowBox[{
    RowBox[{"probabilityDistance", " ", "-=", " ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"Between", "[", 
        RowBox[{"distance", ",", " ", 
         RowBox[{"{", 
          RowBox[{"101", ",", " ", "150"}], "}"}]}], "]"}], ",", " ", "0.30", 
       ",", " ", "0"}], "]"}]}], ";"}], "\[IndentingNewLine]", " ", 
   RowBox[{
    RowBox[{"probabilityDistance", " ", "-=", " ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"Between", "[", 
        RowBox[{"distance", ",", " ", 
         RowBox[{"{", 
          RowBox[{"151", ",", " ", "250"}], "}"}]}], "]"}], ",", " ", "0.35", 
       ",", " ", "0"}], "]"}]}], ";"}], "\[IndentingNewLine]", " ", 
   RowBox[{
    RowBox[{"probabilityDistance", " ", "-=", " ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"Between", "[", 
        RowBox[{"distance", ",", " ", 
         RowBox[{"{", 
          RowBox[{"251", ",", " ", "999"}], "}"}]}], "]"}], ",", " ", "0.40", 
       ",", " ", "0"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"3", " ", "-", " ", 
     RowBox[{"GIORNO", " ", "SETTIMANA", " ", "e", " ", "ORARIO"}]}], " ", 
    "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"probabilityDayOfWeek", " ", "=", " ", "1"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"today", " ", "=", " ", 
     RowBox[{"DateList", "[", "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"birthDateArbitroSplitted", " ", "=", " ", 
     RowBox[{"StringSplit", "[", 
      RowBox[{"birthDateArbitro", ",", " ", "\"\</\>\""}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"birthDateArbitroSplitted", "[", 
      RowBox[{"[", "3", "]"}], "]"}], ",", 
     RowBox[{"birthDateArbitroSplitted", "[", 
      RowBox[{"[", "2", "]"}], "]"}], ",", 
     RowBox[{"birthDateArbitroSplitted", "[", 
      RowBox[{"[", "1", "]"}], "]"}]}], "}"}], "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"today", "[", 
      RowBox[{"[", "1", "]"}], "]"}], ",", 
     RowBox[{"today", "[", 
      RowBox[{"[", "2", "]"}], "]"}], ",", 
     RowBox[{"today", "[", 
      RowBox[{"[", "3", "]"}], "]"}]}], "}"}], "\[IndentingNewLine]", 
   RowBox[{"ageArbitroDay", " ", "=", " ", 
    RowBox[{"QuantityMagnitude", "[", 
     RowBox[{"DateDifference", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1999", ",", "09", ",", "15"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"2019", ",", "5", ",", "23"}], "}"}]}], "]"}], "]"}]}], 
   "\[IndentingNewLine]", 
   RowBox[{"ageArbitro", "=", " ", 
    RowBox[{"IntegerPart", "[", 
     RowBox[{"ageArbitroDay", "/", "365"}], "]"}]}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"workingDays", " ", "=", " ", 
     RowBox[{"{", 
      RowBox[{
      "\"\<Lun\>\"", ",", "\"\<Mar\>\"", ",", "\"\<Mer\>\"", ",", 
       "\"\<Gio\>\"", ",", "\"\<Ven\>\""}], "}"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"probabilityDayOfWeek", " ", "=", " ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"MemberQ", "[", 
        RowBox[{"workingDays", ",", "dayOfWeekGara"}], "]"}], ",", " ", "0.7",
        ",", " ", "probabilityDayOfWeek"}], "]"}]}], ";"}], " ", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"probabilityDayOfWeek", " ", "=", " ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"ageArbitro", "\[GreaterEqual]", "25"}], " ", "&&", " ", 
        RowBox[{"MemberQ", "[", 
         RowBox[{"workingDays", ",", "dayOfWeekGara"}], "]"}]}], ",", " ", 
       "0.2", ",", " ", "probabilityDayOfWeek"}], "]"}]}], ";"}], " ", 
   "\[IndentingNewLine]", "probabilityDayOfWeek", "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"probability", " ", "=", " ", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"probbilityPast", " ", "*", " ", "0.5"}], ")"}], " ", "+", " ", 
      RowBox[{"(", 
       RowBox[{"probabilityDistance", " ", "*", " ", "0.25"}], ")"}], " ", 
      "+", " ", 
      RowBox[{"(", 
       RowBox[{"probabilityDayOfWeek", " ", "*", " ", "0.25"}], ")"}]}]}], 
    ";"}], "\[IndentingNewLine]"}]}]], "Input",
 CellChangeTimes->CompressedData["
1:eJwd0mtIk3EUBnA1nVe8BIqUpSKb5cQpYW6UghNtTLKwGBoOS3JGxlTSeS2X
ik3dNLVMUdTS3EBnQtMEMcU5GZWY4tASS4R5Y5W8zEuh1Pv8Pxx+cHg4HA4n
MCMnOdPOxsaGRxdkdBcbmV6WWIeHN5agyDZ7FSpOSNbg8/WgCBatJWmS+Pl+
ZxrkWtXEZPHcPSjZXiF26BNksNXdqRAmfLKUQoamogLaqc40wZCtqhZYNerQ
QXLeuUS+YegVnOn0eQ1DBfZ9ULAZMwndHKVGaGvYI+pMJYtQdr3UBKl66QEs
lv46JPu1DB/Du9ojolB/6BBMO2hvZsCFsbPecEOoD4CMHz+joJOyNRaOlLOT
oXxnJx0qU6g8+Ky36wmsbW4bgIlCLy0sk9Xp4L64cpjkHu1Ok/kREwY44PF9
Cf6Lu7QK4yJZ63BGLNiGsrLCXajhy/chb+FO9Dna0z1XYuDiTgUfKlRv4uGH
dcdr8HE5PxW2+W5KoT87PgcWfcwrgMzxHBn8luRSBjV5NUTRVc1T2OfZqIAu
x9NKuJxF1cOYcU4PfOHRTmz0CROF0Eq736XAy1IqDW4cB+bDOV+9HE4XNdfA
0cQtFazW8Xqg0nVIDeddqbekr1KMwFviBzOw1lY3C099MS/A986Oy1CdVf8V
tgdp1iA1qyVKunIPoXHz5l+Y0RB9gY07WtXERb8DLmR4NPBg9eDLi6G07tYV
LrTfM+UzT1piK525BfBou68cmvoj5VCU5VoNz4+n1MFwThjFovXfC/kD0yfo
/6K9zSmxC6YdMKe6QEHvvCd0G2tiQqGWFQr9pkThMOB3fxS0Cosy4RSXnQ3/
A9rPiN8=
  "],
 CellLabel->"In[76]:=",ExpressionUUID->"6aa031d0-6874-4a05-852c-3aed559b3f70"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"1995\"\>", ",", "\<\"07\"\>", ",", "\<\"02\"\>"}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.767613367280837*^9, 3.767613390227683*^9}, {
   3.7676134430170207`*^9, 3.767613470793061*^9}, {3.7676135111052465`*^9, 
   3.767613548627754*^9}, 3.767613583225494*^9, {3.767613743397049*^9, 
   3.7676137951071367`*^9}, {3.7676138286856117`*^9, 
   3.7676138882266526`*^9}, {3.767614256085245*^9, 3.7676142994221926`*^9}},
 CellLabel->"Out[99]=",ExpressionUUID->"5b0c9d2a-a676-4d8d-b884-6c20d8c570f6"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"2019", ",", "5", ",", "23"}], "}"}]], "Output",
 CellChangeTimes->{{3.767613367280837*^9, 3.767613390227683*^9}, {
   3.7676134430170207`*^9, 3.767613470793061*^9}, {3.7676135111052465`*^9, 
   3.767613548627754*^9}, 3.767613583225494*^9, {3.767613743397049*^9, 
   3.7676137951071367`*^9}, {3.7676138286856117`*^9, 
   3.7676138882266526`*^9}, {3.767614256085245*^9, 3.767614299430194*^9}},
 CellLabel->
  "Out[100]=",ExpressionUUID->"ff73938b-5c20-4455-aeb5-13acc462e560"],

Cell[BoxData["7190"], "Output",
 CellChangeTimes->{{3.767613367280837*^9, 3.767613390227683*^9}, {
   3.7676134430170207`*^9, 3.767613470793061*^9}, {3.7676135111052465`*^9, 
   3.767613548627754*^9}, 3.767613583225494*^9, {3.767613743397049*^9, 
   3.7676137951071367`*^9}, {3.7676138286856117`*^9, 
   3.7676138882266526`*^9}, {3.767614256085245*^9, 3.767614299435195*^9}},
 CellLabel->
  "Out[101]=",ExpressionUUID->"494b04d3-e9e5-486b-9694-ac8c919c8ff6"],

Cell[BoxData["19"], "Output",
 CellChangeTimes->{{3.767613367280837*^9, 3.767613390227683*^9}, {
   3.7676134430170207`*^9, 3.767613470793061*^9}, {3.7676135111052465`*^9, 
   3.767613548627754*^9}, 3.767613583225494*^9, {3.767613743397049*^9, 
   3.7676137951071367`*^9}, {3.7676138286856117`*^9, 
   3.7676138882266526`*^9}, {3.767614256085245*^9, 3.7676142994411955`*^9}},
 CellLabel->
  "Out[102]=",ExpressionUUID->"445c773a-1ea2-43f6-a4c2-ec78e128abaf"],

Cell[BoxData["0.7`"], "Output",
 CellChangeTimes->{{3.767613367280837*^9, 3.767613390227683*^9}, {
   3.7676134430170207`*^9, 3.767613470793061*^9}, {3.7676135111052465`*^9, 
   3.767613548627754*^9}, 3.767613583225494*^9, {3.767613743397049*^9, 
   3.7676137951071367`*^9}, {3.7676138286856117`*^9, 
   3.7676138882266526`*^9}, {3.767614256085245*^9, 3.7676142994481983`*^9}},
 CellLabel->
  "Out[106]=",ExpressionUUID->"970d3027-d18d-4bd5-b8a6-6e32bf228296"]
}, Open  ]]
},
WindowSize->{1366, 685},
WindowMargins->{{-8, Automatic}, {Automatic, -8}},
FrontEndVersion->"11.3 for Microsoft Windows (64-bit) (March 6, 2018)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 11812, 294, 1055, "Input",ExpressionUUID->"6aa031d0-6874-4a05-852c-3aed559b3f70"],
Cell[12395, 318, 540, 9, 32, "Output",ExpressionUUID->"5b0c9d2a-a676-4d8d-b884-6c20d8c570f6"],
Cell[12938, 329, 514, 9, 32, "Output",ExpressionUUID->"ff73938b-5c20-4455-aeb5-13acc462e560"],
Cell[13455, 340, 458, 7, 32, "Output",ExpressionUUID->"494b04d3-e9e5-486b-9694-ac8c919c8ff6"],
Cell[13916, 349, 458, 7, 32, "Output",ExpressionUUID->"445c773a-1ea2-43f6-a4c2-ec78e128abaf"],
Cell[14377, 358, 460, 7, 32, "Output",ExpressionUUID->"970d3027-d18d-4bd5-b8a6-6e32bf228296"]
}, Open  ]]
}
]
*)

